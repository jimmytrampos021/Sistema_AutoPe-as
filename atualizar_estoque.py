# ============================================
# SCRIPT DJANGO PARA ATUALIZAR ESTOQUE MIN/MAX
# Auto Peças H.B.S. - Sistema AutoPeças
# ============================================
# 
# COMO EXECUTAR:
# 1. Coloque este arquivo na pasta do projeto Django
# 2. Execute: python manage.py shell < atualizar_estoque.py
# 3. Ou copie e cole no Django shell
#
# ============================================

from estoque.models import Produto

# Dados de atualização (código, est_min, est_max, qtd_reposicao)
atualizacoes = [
    ('101009', 1, 2, 1),
    ('102291', 1, 2, 1),
    ('103628', 3, 10, 7),
    ('100721', 1, 4, 3),
    ('101423', 1, 2, 1),
    ('101424', 2, 7, 5),
    ('103650', 1, 2, 1),
    ('103562', 1, 2, 1),
    ('102837', 1, 2, 1),
    ('104294', 1, 2, 1),
    ('101900', 1, 2, 1),
    ('100027', 2, 6, 4),
    ('103316', 2, 7, 5),
    ('103010', 1, 2, 1),
    ('101962', 5, 21, 16),
    ('100790', 1, 2, 1),
    ('100791', 1, 2, 1),
    ('101648', 1, 2, 1),
    ('103592', 1, 2, 1),
    ('100447', 3, 9, 6),
    ('100616', 1, 2, 1),
    ('103915', 1, 2, 1),
    ('100226', 2, 5, 3),
    ('103472', 1, 2, 1),
    ('100800', 1, 2, 1),
    ('103580', 7, 30, 23),
    ('101601', 1, 2, 1),
    ('101445', 1, 2, 1),
    ('101859', 1, 2, 1),
    ('100232', 1, 2, 1),
    ('101876', 1, 3, 2),
    ('100562', 2, 6, 4),
    ('100231', 9, 40, 31),
    ('104275', 1, 2, 1),
    ('100233', 1, 2, 1),
    ('102107', 1, 2, 1),
    ('100144', 1, 2, 1),
    ('103833', 1, 2, 1),
    ('103366', 1, 2, 1),
    ('103377', 1, 2, 1),
    ('103373', 1, 2, 1),
    ('102121', 1, 2, 1),
    ('103097', 1, 2, 1),
    ('103102', 1, 2, 1),
    ('103877', 1, 2, 1),
    ('104052', 1, 2, 1),
    ('103866', 1, 2, 1),
    ('103729', 1, 2, 1),
    ('101165', 1, 4, 3),
    ('101624', 1, 2, 1),
    ('102613', 1, 2, 1),
    ('100996', 1, 2, 1),
    ('102420', 1, 2, 1),
    ('102189', 1, 2, 1),
    ('102190', 1, 2, 1),
    ('102684', 1, 2, 1),
    ('101235', 1, 2, 1),
    ('101148', 1, 2, 1),
    ('104272', 1, 2, 1),
    ('100508', 1, 2, 1),
    ('100083', 1, 2, 1),
    ('102545', 1, 2, 1),
    ('102670', 1, 2, 1),
    ('103120', 1, 2, 1),
    ('101813', 1, 2, 1),
    ('104298', 1, 2, 1),
    ('100380', 1, 2, 1),
    ('103560', 1, 2, 1),
    ('101347', 1, 2, 1),
    ('104280', 1, 2, 1),
    ('101557', 1, 2, 1),
    ('100835', 1, 2, 1),
    ('100362', 1, 2, 1),
    ('102128', 2, 7, 5),
    ('100333', 3, 12, 9),
    ('102131', 2, 5, 3),
    ('100332', 1, 2, 1),
    ('104013', 1, 2, 1),
    ('100482', 1, 3, 2),
    ('101458', 1, 2, 1),
    ('102283', 1, 2, 1),
    ('102282', 1, 2, 1),
    ('100337', 1, 3, 2),
    ('100359', 1, 2, 1),
    ('100338', 2, 6, 4),
    ('100859', 1, 2, 1),
    ('103144', 1, 2, 1),
    ('100881', 1, 2, 1),
    ('100374', 1, 3, 2),
    ('104284', 1, 2, 1),
    ('101497', 1, 2, 1),
    ('103889', 1, 2, 1),
    ('103390', 1, 2, 1),
    ('103572', 1, 2, 1),
    ('103352', 1, 3, 2),
    ('101471', 1, 3, 2),
    ('103843', 1, 2, 1),
    ('101472', 1, 2, 1),
    ('103244', 2, 6, 4),
    ('103661', 1, 2, 1),
    ('100019', 1, 2, 1),
    ('103844', 1, 2, 1),
    ('100458', 1, 2, 1),
    ('104274', 1, 2, 1),
    ('100365', 1, 2, 1),
    ('101027', 1, 2, 1),
    ('104264', 1, 3, 2),
    ('100224', 1, 2, 1),
    ('100857', 1, 3, 2),
    ('103351', 1, 2, 1),
    ('102331', 1, 2, 1),
    ('102457', 1, 2, 1),
    ('100715', 1, 2, 1),
    ('103846', 1, 2, 1),
    ('104262', 1, 2, 1),
    ('101838', 1, 2, 1),
    ('100442', 1, 5, 4),
    ('101166', 2, 8, 6),
    ('100274', 1, 2, 1),
    ('102586', 1, 2, 1),
    ('104265', 1, 2, 1),
    ('104243', 1, 2, 1),
    ('101007', 1, 2, 1),
    ('102387', 1, 5, 4),
    ('103441', 1, 2, 1),
    ('101629', 10, 42, 32),
    ('104263', 1, 2, 1),
    ('101628', 2, 5, 3),
    ('102771', 1, 2, 1),
    ('101172', 1, 2, 1),
    ('104273', 1, 2, 1),
    ('100033', 1, 2, 1),
    ('100042', 1, 2, 1),
    ('102791', 1, 2, 1),
    ('101271', 1, 2, 1),
    ('101282', 1, 2, 1),
    ('101274', 1, 2, 1),
    ('100831', 1, 2, 1),
    ('100212', 1, 2, 1),
    ('103000', 1, 2, 1),
    ('101537', 1, 2, 1),
    ('102616', 1, 2, 1),
    ('102609', 1, 2, 1),
    ('104276', 7, 30, 23),
    ('104296', 1, 3, 2),
    ('100026', 1, 2, 1),
    ('102978', 1, 2, 1),
    ('100780', 1, 2, 1),
    ('103166', 1, 2, 1),
    ('103165', 1, 2, 1),
    ('103164', 1, 2, 1),
    ('102343', 1, 3, 2),
    ('102923', 3, 10, 7),
    ('100771', 1, 2, 1),
    ('104269', 1, 2, 1),
    ('101495', 1, 2, 1),
    ('100022', 1, 2, 1),
    ('103272', 1, 2, 1),
    ('102994', 1, 2, 1),
    ('100768', 1, 2, 1),
    ('101812', 1, 2, 1),
    ('100023', 2, 6, 4),
    ('100449', 1, 2, 1),
    ('103454', 1, 3, 2),
    ('104255', 4, 20, 16),
    ('104290', 2, 8, 6),
    ('104250', 1, 2, 1),
    ('102192', 1, 2, 1),
    ('104278', 1, 2, 1),
    ('104288', 1, 2, 1),
    ('104256', 2, 8, 6),
    ('101609', 1, 2, 1),
    ('102990', 1, 2, 1),
    ('104277', 2, 6, 4),
    ('103536', 1, 2, 1),
    ('100466', 1, 3, 2),
    ('104292', 1, 2, 1),
    ('104293', 1, 2, 1),
    ('104327', 1, 2, 1),
    ('103163', 1, 2, 1),
    ('104251', 2, 9, 7),
    ('104249', 3, 10, 7),
    ('101987', 1, 2, 1),
    ('101993', 1, 2, 1),
    ('103025', 1, 2, 1),
    ('102252', 1, 2, 1),
    ('102743', 1, 2, 1),
    ('103573', 1, 2, 1),
    ('102050', 1, 2, 1),
    ('103078', 1, 2, 1),
    ('103089', 1, 2, 1),
    ('103384', 2, 5, 3),
    ('103385', 1, 2, 1),
    ('103088', 2, 5, 3),
    ('101999', 1, 2, 1),
    ('103412', 1, 2, 1),
    ('103574', 1, 2, 1),
    ('101597', 1, 2, 1),
    ('102243', 1, 2, 1),
    ('103036', 1, 2, 1),
    ('102629', 1, 2, 1),
    ('100109', 1, 2, 1),
    ('102015', 1, 2, 1),
    ('103062', 1, 2, 1),
    ('102492', 1, 2, 1),
    ('103800', 1, 2, 1),
    ('101422', 1, 2, 1),
    ('100704', 1, 2, 1),
    ('101158', 1, 2, 1),
    ('104036', 1, 2, 1),
    ('101120', 1, 2, 1),
    ('100848', 1, 2, 1),
    ('103761', 1, 2, 1),
    ('101482', 1, 2, 1),
    ('103777', 1, 2, 1),
    ('100125', 1, 2, 1),
    ('100021', 1, 2, 1),
    ('104302', 1, 2, 1),
    ('102665', 1, 2, 1),
    ('100748', 1, 2, 1),
    ('102792', 1, 3, 2),
    ('104279', 1, 2, 1),
    ('100169', 1, 2, 1),
    ('104281', 1, 2, 1),
    ('101713', 1, 2, 1),
    ('102308', 1, 2, 1),
    ('100998', 1, 2, 1),
    ('100687', 1, 2, 1),
    ('101473', 1, 2, 1),
    ('104064', 1, 2, 1),
    ('103828', 1, 2, 1),
    ('103147', 1, 2, 1),
    ('103336', 1, 2, 1),
    ('101530', 1, 2, 1),
    ('103569', 1, 3, 2),
    ('103570', 1, 2, 1),
    ('102510', 1, 2, 1),
    ('103298', 1, 4, 3),
    ('102647', 1, 2, 1),
    ('100354', 1, 2, 1),
    ('100734', 1, 2, 1),
    ('101442', 1, 2, 1),
    ('100982', 1, 2, 1),
    ('104258', 1, 2, 1),
    ('100985', 1, 2, 1),
    ('100939', 1, 2, 1),
]

# Executar atualizações
atualizados = 0
erros = 0

for codigo, est_min, est_max, qtd_rep in atualizacoes:
    try:
        produto = Produto.objects.get(codigo=codigo)
        produto.estoque_minimo = est_min
        produto.estoque_maximo = est_max
        produto.quantidade_reposicao = qtd_rep
        produto.save()
        atualizados += 1
    except Produto.DoesNotExist:
        print(f"Produto não encontrado: {codigo}")
        erros += 1
    except Exception as e:
        print(f"Erro ao atualizar {codigo}: {e}")
        erros += 1

print(f"\n=== RESULTADO ===")
print(f"Produtos atualizados: {atualizados}")
print(f"Erros: {erros}")
